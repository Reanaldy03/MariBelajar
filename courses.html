<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kursus - MariBelajar</title>
    <meta name="description" content="Jelajahi ribuan kursus berkualitas di MariBelajar">
    
    <!-- Bootstrap 5 CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="bootstrap/css/maribelajar.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="fas fa-graduation-cap text-primary me-2"></i>
                MariBelajar
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>Beranda
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="courses.html">
                            <i class="fas fa-book me-1"></i>Kursus
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">
                            <i class="fas fa-info-circle me-1"></i>Tentang
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">
                            <i class="fas fa-envelope me-1"></i>Kontak
                        </a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center" id="navbarAuth">
                    <!-- Login/Register buttons (default) -->
                    <div id="guestNav">
                        <a href="login.html" class="btn btn-outline-primary me-2">
                            <i class="fas fa-sign-in-alt me-1"></i>Masuk
                        </a>
                        <a href="register.html" class="btn btn-primary">
                            <i class="fas fa-user-plus me-1"></i>Daftar
                        </a>
                    </div>
                    
                    <!-- User dropdown (when logged in) -->
                    <div id="userNav" style="display: none;">
                        <div class="dropdown">
                            <a class="btn btn-outline-primary dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i><span id="userNameDisplay">User</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="profile.html"><i class="fas fa-user me-2"></i>Profil</a></li>
                                <li><a class="dropdown-item" href="lessons.html"><i class="fas fa-book-open me-2"></i>Kursus Saya</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" onclick="logout()"><i class="fas fa-sign-out-alt me-2"></i>Keluar</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="hero-section" style="padding: 80px 0;">
        <div class="container">
            <div class="row text-center">
                <div class="col-lg-8 mx-auto">
                    <h1 class="display-4 fw-bold mb-4">Jelajahi Kursus</h1>
                    <p class="lead mb-4">Temukan kursus yang sesuai dengan minat dan kebutuhan Anda</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Advanced Course Filter Section -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h5 class="card-title mb-4"><i class="fas fa-filter me-2"></i>Filter Kursus</h5>
                            <div class="row g-3">
                                <!-- Search Filter -->
                                <div class="col-lg-3 col-md-6">
                                    <label for="searchFilter" class="form-label fw-semibold">Cari Kursus</label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                                        <input type="text" class="form-control" id="searchFilter" placeholder="Nama kursus...">
                                    </div>
                                </div>
                                
                                <!-- Category Filter -->
                                <div class="col-lg-2 col-md-6">
                                    <label for="categoryFilter" class="form-label fw-semibold">Kategori</label>
                                    <select id="categoryFilter" class="form-select">
                                        <option value="all">Semua Kategori</option>
                                        <option value="web-development">Web Development</option>
                                        <option value="programming">Programming</option>
                                        <option value="design">Design</option>
                                        <option value="business">Business</option>
                                    </select>
                                </div>
                                
                                <!-- Level Filter -->
                                <div class="col-lg-2 col-md-6">
                                    <label for="levelFilter" class="form-label fw-semibold">Level</label>
                                    <select id="levelFilter" class="form-select">
                                        <option value="all">Semua Level</option>
                                        <option value="Pemula">Pemula</option>
                                        <option value="Menengah">Menengah</option>
                                        <option value="Lanjutan">Lanjutan</option>
                                    </select>
                                </div>
                                
                                <!-- Price Filter -->
                                <div class="col-lg-2 col-md-6">
                                    <label for="priceFilter" class="form-label fw-semibold">Harga</label>
                                    <select id="priceFilter" class="form-select">
                                        <option value="all">Semua Harga</option>
                                        <option value="0-200000">< Rp 200.000</option>
                                        <option value="200000-300000">Rp 200.000 - 300.000</option>
                                        <option value="300000-400000">Rp 300.000 - 400.000</option>
                                        <option value="400000+">≥ Rp 400.000</option>
                                    </select>
                                </div>
                                
                                <!-- Rating Filter -->
                                <div class="col-lg-2 col-md-6">
                                    <label for="ratingFilter" class="form-label fw-semibold">Rating</label>
                                    <select id="ratingFilter" class="form-select">
                                        <option value="all">Semua Rating</option>
                                        <option value="4.5+">4.5+ ⭐</option>
                                        <option value="4.0+">4.0+ ⭐</option>
                                        <option value="3.5+">3.5+ ⭐</option>
                                    </select>
                                </div>
                                
                                <!-- Sort Filter -->
                                <div class="col-lg-1 col-md-6">
                                    <label for="sortFilter" class="form-label fw-semibold">Urutkan</label>
                                    <select id="sortFilter" class="form-select">
                                        <option value="default">Default</option>
                                        <option value="price-low">Harga: Rendah ke Tinggi</option>
                                        <option value="price-high">Harga: Tinggi ke Rendah</option>
                                        <option value="rating">Rating Tertinggi</option>
                                        <option value="students">Paling Populer</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Filter Actions -->
                            <div class="row mt-3">
                                <div class="col-12">
                                    <button type="button" class="btn btn-outline-secondary btn-sm me-2" id="clearFilters">
                                        <i class="fas fa-times me-1"></i>Reset Filter
                                    </button>
                                    <span class="text-muted small" id="courseCount">Menampilkan semua kursus</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Courses Section -->
    <section class="py-5">
        <div class="container">
            <div class="row g-4 align-items-stretch" id="coursesContainer">
                <!-- Courses will be dynamically loaded here -->
            </div>
            
            <!-- No Results Message -->
            <div class="row" id="noResults" style="display: none;">
                <div class="col-12 text-center py-5">
                    <div class="card">
                        <div class="card-body">
                            <i class="fas fa-search fa-3x text-muted mb-3"></i>
                            <h4 class="text-muted">Tidak ada kursus yang ditemukan</h4>
                            <p class="text-muted">Coba ubah filter atau kata kunci pencarian Anda</p>
                            <button class="btn btn-primary" id="resetSearch">
                                <i class="fas fa-refresh me-2"></i>Reset Pencarian
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>






        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-5" style="background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));">
        <div class="container">
            <div class="row text-center">
                <div class="col-lg-8 mx-auto">
                    <h2 class="display-5 fw-bold text-white mb-4">Tidak Menemukan Kursus yang Cocok?</h2>
                    <p class="lead text-white-50 mb-4">Hubungi kami untuk kursus khusus atau permintaan khusus</p>
                    <a href="contact.html" class="btn btn-light btn-lg">
                        <i class="fas fa-envelope me-2"></i>Hubungi Kami
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5><i class="fas fa-graduation-cap me-2"></i>MariBelajar</h5>
                    <p class="text-muted">Platform e-learning terdepan yang membantu Anda mencapai impian melalui pembelajaran berkualitas.</p>
                    <div class="d-flex gap-3">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5>Kursus</h5>
                    <ul>
                        <li><a href="#">Web Development</a></li>
                        <li><a href="#">Mobile Development</a></li>
                        <li><a href="#">Data Science</a></li>
                        <li><a href="#">Digital Marketing</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5>Perusahaan</h5>
                    <ul>
                        <li><a href="about.html">Tentang Kami</a></li>
                        <li><a href="#">Karir</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Press</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5>Dukungan</h5>
                    <ul>
                        <li><a href="contact.html">Kontak</a></li>
                        <li><a href="#">Bantuan</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Komunitas</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5>Legal</h5>
                    <ul>
                        <li><a href="#">Syarat & Ketentuan</a></li>
                        <li><a href="#">Kebijakan Privasi</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">GDPR</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom mt-4">
                <div class="row align-items-center">
                    <div class="col-md-6 text-md-start text-center mb-2 mb-md-0">
                        <p class="mb-0">&copy; 2024 MariBelajar. Semua hak dilindungi.</p>
                    </div>
                    <div class="col-md-6 text-md-end text-center">
                        <p class="mb-0">Dibuat dengan <i class="fas fa-heart text-danger"></i> untuk pendidikan Indonesia</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="toastContainer"></div>

    <!-- Bootstrap 5 JS -->
    <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="js/courses-data.js"></script>
    
    <script>
        // Global variables
        let allCourses = [];
        let filteredCourses = [];
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            allCourses = coursesData;
            filteredCourses = [...allCourses];
            
            // Load courses
            displayCourses(filteredCourses);
            updateCourseCount(filteredCourses.length);
            
            // Setup event listeners
            setupEventListeners();
        });
        
        // Display courses
        function displayCourses(courses) {
            const container = document.getElementById('coursesContainer');
            const noResults = document.getElementById('noResults');
            
            if (courses.length === 0) {
                container.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }
            
            noResults.style.display = 'none';
            
            container.innerHTML = courses.map(course => `
                <div class="col-lg-3 col-md-6 d-flex">
                    <div class="card course-card h-100 w-100" 
                         data-category="${course.category}" 
                         data-level="${course.level}" 
                         data-price="${course.price}" 
                         data-rating="${course.rating}">
                        <img src="${course.image}" class="card-img-top object-fit-cover" alt="${course.title}" style="height:200px;object-fit:cover;">
                        <div class="card-body d-flex flex-column">
                            <span class="course-badge">${course.categoryLabel}</span>
                            <h5 class="card-title mt-2">${course.title}</h5>
                            <p class="card-text text-muted flex-grow-1">${course.description || 'Deskripsi kursus tidak tersedia.'}</p>
                            <div class="course-meta mb-2">
                                <small class="text-muted">
                                    <i class="fas fa-star text-warning"></i> ${course.rating} 
                                    <span class="mx-2">•</span>
                                    <i class="fas fa-signal"></i> ${course.level}
                                    <span class="mx-2">•</span>
                                    <i class="fas fa-users"></i> ${course.students} siswa
                                </small>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mt-auto">
                                <span class="text-primary fw-bold">Rp ${course.price.toLocaleString('id-ID')}</span>
                                <a href="course-detail.html?id=${course.id}" class="btn btn-sm btn-primary">Detail</a>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Add click handlers to cards
            document.querySelectorAll('.course-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    if (!e.target.closest('a')) {
                        const href = this.querySelector('a').getAttribute('href');
                        if (href) {
                            window.location.href = href;
                        }
                    }
                });
            });
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Search input
            const searchInput = document.getElementById('searchFilter');
            if (searchInput) {
                searchInput.addEventListener('input', debounce(applyFilters, 300));
            }
            
            // Filter selects
            const filters = ['categoryFilter', 'levelFilter', 'priceFilter', 'ratingFilter', 'sortFilter'];
            filters.forEach(filterId => {
                const element = document.getElementById(filterId);
                if (element) {
                    element.addEventListener('change', applyFilters);
                }
            });
            
            // Reset button
            const resetBtn = document.getElementById('clearFilters');
            if (resetBtn) {
                resetBtn.addEventListener('click', resetFilters);
            }
            
            // Reset search button
            const resetSearchBtn = document.getElementById('resetSearch');
            if (resetSearchBtn) {
                resetSearchBtn.addEventListener('click', resetFilters);
            }
        }
        
        // Apply filters
        function applyFilters() {
            const searchTerm = document.getElementById('searchFilter')?.value.toLowerCase() || '';
            const category = document.getElementById('categoryFilter')?.value || 'all';
            const level = document.getElementById('levelFilter')?.value || 'all';
            const priceRange = document.getElementById('priceFilter')?.value || 'all';
            const rating = document.getElementById('ratingFilter')?.value || 'all';
            const sort = document.getElementById('sortFilter')?.value || 'default';
            
            filteredCourses = allCourses.filter(course => {
                // Search filter
                const matchesSearch = course.title.toLowerCase().includes(searchTerm) ||
                                    course.categoryLabel.toLowerCase().includes(searchTerm) ||
                                    (course.instructor && course.instructor.toLowerCase().includes(searchTerm));
                
                // Category filter
                const matchesCategory = category === 'all' || course.category === category;
                
                // Level filter
                const matchesLevel = level === 'all' || course.level === level;
                
                // Price filter
                let matchesPrice = true;
                if (priceRange !== 'all') {
                    const price = course.price;
                    switch (priceRange) {
                        case '0-200000':
                            matchesPrice = price < 200000;
                            break;
                        case '200000-300000':
                            matchesPrice = price >= 200000 && price <= 300000;
                            break;
                        case '300000-400000':
                            matchesPrice = price >= 300000 && price <= 400000;
                            break;
                        case '400000+':
                            matchesPrice = price >= 400000;
                            break;
                    }
                }
                
                // Rating filter
                let matchesRating = true;
                if (rating !== 'all') {
                    const courseRating = course.rating;
                    switch (rating) {
                        case '4.5+':
                            matchesRating = courseRating >= 4.5;
                            break;
                        case '4.0+':
                            matchesRating = courseRating >= 4.0;
                            break;
                        case '3.5+':
                            matchesRating = courseRating >= 3.5;
                            break;
                    }
                }
                
                return matchesSearch && matchesCategory && matchesLevel && matchesPrice && matchesRating;
            });
            
            // Apply sorting
            if (sort !== 'default') {
                filteredCourses.sort((a, b) => {
                    switch (sort) {
                        case 'price-low':
                            return a.price - b.price;
                        case 'price-high':
                            return b.price - a.price;
                        case 'rating-high':
                            return b.rating - a.rating;
                        case 'rating-low':
                            return a.rating - b.rating;
                        case 'students-high':
                            return b.students - a.students;
                        case 'name-az':
                            return a.title.localeCompare(b.title);
                        case 'name-za':
                            return b.title.localeCompare(a.title);
                        default:
                            return 0;
                    }
                });
            }
            
            displayCourses(filteredCourses);
            updateCourseCount(filteredCourses.length);
        }
        
        // Update course count
        function updateCourseCount(count) {
            const courseCountElement = document.getElementById('courseCount');
            if (courseCountElement) {
                if (count === 0) {
                    courseCountElement.textContent = 'Tidak ada kursus ditemukan';
                } else if (count === allCourses.length) {
                    courseCountElement.textContent = 'Menampilkan semua kursus';
                } else {
                    courseCountElement.textContent = `Menampilkan ${count} dari ${allCourses.length} kursus`;
                }
            }
        }
        
        // Reset filters
        function resetFilters() {
            document.getElementById('searchFilter').value = '';
            document.getElementById('categoryFilter').value = 'all';
            document.getElementById('levelFilter').value = 'all';
            document.getElementById('priceFilter').value = 'all';
            document.getElementById('ratingFilter').value = 'all';
            document.getElementById('sortFilter').value = 'default';
            
            filteredCourses = [...allCourses];
            displayCourses(filteredCourses);
            updateCourseCount(filteredCourses.length);
        }
        
        // Debounce function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
    </script>
</body>
</html>